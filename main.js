!function(e){var t={};function s(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=t,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(r,n,function(t){return e[t]}.bind(null,n));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=2)}([function(e,t,s){},,function(e,t,s){"use strict";s.r(t);
/*!
 * A JavaScript implementation of the Secure Hash Algorithm, SHA-1, as defined
 * in FIPS PUB 180-1
 * Version 2.1a Copyright Paul Johnston 2000 - 2002.
 * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet
 * Distributed under the BSD License
 * See http://pajhome.org.uk/crypt/md5 for details.
 */
const r=0,n="",i=8;function a(e,t){const s=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(s>>16)<<16|65535&s}function o(e,t){return e<<t|e>>>32-t}function c(e){const t=[],s=(1<<i)-1;for(let r=0;r<e.length*i;r+=i)null!=t[r>>5]?t[r>>5]|=(e.charCodeAt(r/i)&s)<<32-i-r%32:t[r>>5]=(e.charCodeAt(r/i)&s)<<32-i-r%32;return t}function l(e,t,s,r){return e<20?t&s|~t&r:e<40?t^s^r:e<60?t&s|t&r|s&r:t^s^r}function u(e){return e<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514}function h(e,t){const s=t>>5;null==e[s]?e[s]=128<<24-t%32:e[s]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;const r=Array(80);let n=1732584193,i=-271733879,c=-1732584194,h=271733878,d=-1009589776;for(let t=0;t<e.length;t+=16){const s=n,g=i,f=c,p=h,b=d;for(let s=0;s<80;s++){r[s]=s<16?e[t+s]:o(r[s-3]^r[s-8]^r[s-14]^r[s-16],1);const g=a(a(o(n,5),l(s,i,c,h)),a(a(d,r[s]),u(s)));d=h,h=c,c=o(i,30),i=n,n=g}n=a(n,s),i=a(i,g),c=a(c,f),h=a(h,p),d=a(d,b)}return[n,i,c,h,d]}const d=(e,t)=>(function(e){let t="";for(let s=0;s<4*e.length;s+=3){const r=(null!=e[s>>2]?(e[s>>2]>>8*(3-s%4)&255)<<16:0)|(null!=e[s+1>>2]?(e[s+1>>2]>>8*(3-(s+1)%4)&255)<<8:0)|(null!=e[s+2>>2]?e[s+2>>2]>>8*(3-(s+2)%4)&255:0);for(let i=0;i<4;i++)8*s+6*i>32*e.length?t+=n:t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(r>>6*(3-i)&63)}return t})(function(e,t){let s=c(e);s.length>16&&(s=h(s,e.length*i));const r=Array(16),n=Array(16);for(let e=0;e<16;e++){const t=null!=s[e]?s[e]:0;r[e]=909522486^t,n[e]=1549556828^t}const a=h(r.concat(c(t)),512+t.length*i);return h(n.concat(a),672)}(e,t)),g=e=>(function(e){const t=r?"0123456789ABCDEF":"0123456789abcdef";let s="";for(let r=0;r<4*e.length;r++)s+=t.charAt(e[r>>2]>>8*(3-r%4)+4&15)+t.charAt(e[r>>2]>>8*(3-r%4)&15);return s})(h(c(e),e.length*i));
/*!
 * Version: MPL 1.1/GPL 2.0/LGPL 2.1
 *
 * The contents of this file are subject to the Mozilla Public License Version
 * 1.1 (the "License"); you may not use this file except in compliance with
 * the License. You may obtain a copy of the License at
 * http://www.mozilla.org/MPL/
 *
 * Software distributed under the License is distributed on an "AS IS" basis,
 * WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License
 * for the specific language governing rights and limitations under the
 * License.
 *
 * The Original Code is Password Hasher
 *
 * The Initial Developer of the Original Code is Steve Cooper.
 * Portions created by the Initial Developer are Copyright (C) 2006
 * the Initial Developer. All Rights Reserved.
 *
 * Contributor(s): (none)
 *
 * Alternatively, the contents of this file may be used under the terms of
 * either the GNU General Public License Version 2 or later (the "GPL"), or
 * the GNU Lesser General Public License Version 2.1 or later (the "LGPL"),
 * in which case the provisions of the GPL or the LGPL are applicable instead
 * of those above. If you wish to allow use of your version of this file only
 * under the terms of either the GPL or the LGPL, and not to allow others to
 * use your version of this file under the terms of the MPL, indicate your
 * decision by deleting the provisions above and replace them with the notice
 * and other provisions required by the GPL or the LGPL. If you do not delete
 * the provisions above, a recipient may use your version of this file under
 * the terms of any one of the MPL, the GPL or the LGPL.
 */
function f(e,t,s,r,n,i,a){const o=r%n,c=(o+t)%n;for(let t=0;t<n-s;t+=1){const r=(o+s+t)%n,c=e.charCodeAt(r);if(c>=i&&c<i+a)return e}return(c>0?e.substring(0,c):"")+String.fromCharCode((r+e.charCodeAt(c))%a+i)+(c+1<e.length?e.substring(c+1,e.length):"")}var p=({siteTag:e,masterKey:t,hashWordSize:s,requireDigit:r,requirePunctuation:n,requireMixedCase:i,restrictSpecial:a,restrictDigits:o,bangify:c})=>{let l=d(t,e),u=0;for(let e=0;e<l.length;e+=1)u+=l.charCodeAt(e);return o?l=function(e,t,s){let r="",n=0;for(;n<s;){const s=e.substring(n).search(/[^0-9]/i);if(s<0)break;s>0&&(r+=e.substring(n,n+s)),r+=String.fromCharCode((t+e.charCodeAt(n))%10+48),n+=s+1}return n<e.length&&(r+=e.substring(n)),r}(l,u,s):(r&&(l=f(l,0,4,u,s,48,10)),n&&!a&&(l=f(l,1,4,u,s,33,15)),i&&(l=f(l,2,4,u,s,65,26),l=f(l,3,4,u,s,97,26)),a&&(l=function(e,t,s){let r="",n=0;for(;n<s;){const s=e.substring(n).search(/[^a-z0-9]/i);if(s<0)break;s>0&&(r+=e.substring(n,n+s)),r+=String.fromCharCode((t+n)%26+65),n+=s+1}return n<e.length&&(r+=e.substring(n)),r}(l,u,s))),l=l.substr(0,s),c&&(l=l.replace(/.$/,"!")),l};const b={tag:"siteTag",size:"hashWordSize",requireSpecial:"restrictSpecial",requireDigitsOnly:"restrictDigits"};const m={requireDigit:!0,requirePunctuation:!1,requireMixedCase:!0,restrictSpecial:!1,restrictDigits:!1,hashWordSize:"26",bangify:!1};function v(e){return document.getElementById(e)}function y(){let e=!1;return t=>{e||(e=!0,setTimeout(()=>e=!1,0),t())}}s(0);new class{constructor(){this.store=new class{entries(){return this.load().entries()}keys(){return this.load().keys()}[Symbol.iterator](){return this.load()[Symbol.iterator]()}set(e,t){const s=this.load();s.set(e,{...t,timestamp:Date.now()}),this.save(s)}has(e){return this.load().has(e)}get(e){return this.load().get(e)}delete(e){const t=this.load();t.delete(e),this.save(t)}load(){try{let e=localStorage.getItem("db329347-75fb-4d26-8f4e-6b887f2f08a9");return(e=JSON.parse(e)||{}).props?e=this.inflate(e):(this.upgrade(e),e=[...Object.entries(e)]),new Map(e)}catch(e){console.error("error loading data",e)}return new Map}save(e){try{localStorage.setItem("db329347-75fb-4d26-8f4e-6b887f2f08a9",JSON.stringify(this.compact([...e])))}catch(e){console.error("error saving data",e)}}compact(e){const t=[],s=e.map(([e,s])=>{const r=[];return Object.entries(s).forEach(([e,s])=>{let n=t.indexOf(e);-1===n&&(n=t.push(e)-1),r[n]=s}),[e,r]});return{props:t,map:s}}inflate({props:e,map:t}){return t.map(([t,s])=>{const r={};return s.forEach((t,s)=>{null!==t&&(r[e[s]]=t)}),[t,r]})}upgrade(e){Object.values(e).forEach(e=>{Object.entries(b).forEach(([t,s])=>{t in e&&(e[s]=e[t],delete e[t])})})}},this.datalistFallback(),this.bindPassword("masterKey"),["siteTag","hash",...Object.keys(m)].forEach(e=>this.bindInput(e)),this.bindListeners(),this.setSettings(),this.updateDatalist(),this.setTimers()}get settings(){return Object.keys(m).reduce((e,t)=>(e[t]=this[t],e),{})}setSettings(e=m){Object.entries(e).forEach(([e,t])=>{this[e]=t})}hasCustomSettings(){return!Object.entries(m).every(([e,t])=>this[e]===t)}bindInput(e){const t=v(e),s="checkbox"===t.type?"checked":"value",r=y();Object.defineProperty(this,e,{enumerable:!0,get:()=>"string"==typeof t[s]?t[s].trim():t[s],set(e){t[s]=e,r(()=>t.dispatchEvent(new Event("change")))}}),t.addEventListener("change",t=>{r(()=>this[e]=t.target[s])})}bindPassword(e){const t=v(e);let s="";const r=y();Object.defineProperty(this,e,{enumerable:!0,get:()=>s,set(e){s=e,t.value=Array(e.length).fill("x").join(""),r(()=>t.dispatchEvent(new Event("change")))}}),t.addEventListener("change",t=>{r(()=>this[e]=t.target.value)})}bindListeners(){Object.entries(Object.getOwnPropertyDescriptors(this.constructor.prototype)).forEach(([e,t])=>{if("function"!=typeof t.value)return;const s=e.match(/^on(.*)(Click|Input|Change|Blur|Focus|Submit|Keypress|Cut|Paste|Keydown)$/);s&&v(function(e){return`${e[0].toLowerCase()}${e.slice(1)}`}(s[1])).addEventListener(s[2].toLowerCase(),t=>{this[e](t)})})}onResetClick(){this.setSettings()}onHashWordSizeInput(e){v("sizeOutput").value=e.target.value}onHashWordSizeChange(e){v("sizeOutput").value=e.target.value}onRestrictSpecialChange(e){v("requirePunctuation").disabled=e.target.checked}onRestrictDigitsChange(e){v("requireDigit").disabled=e.target.checked,v("requirePunctuation").disabled=e.target.checked,v("requireMixedCase").disabled=e.target.checked,v("restrictSpecial").disabled=e.target.checked}onMasterKeyFocus(){this.masterKey="",this.hash=""}onMasterKeyChange(){this.hash=""}onSiteTagChange(e){if(this.hash="",!this.store.has(this.siteTag))return this.setSettings(),void(v("details").open=!1);this.setSettings(this.store.get(e.target.value)),v("delete").hidden=!1,v("details").open=this.hasCustomSettings(),this.masterKey&&this.generateHash()}onDeleteClick(){this.store.delete(this.siteTag),this.updateDatalist(),v("delete").hidden=!0}onFormSubmit(e){e.preventDefault(),this.generateHash(),this.store.set(this.siteTag,this.settings),v("delete").hidden=!1}onHashKeypress(e){e.preventDefault()}onHashKeydown(e){"Backspace"!==e.key&&"Delete"!==e.key||e.preventDefault()}onHashCut(e){e.preventDefault()}onHashPaste(e){e.preventDefault()}onSavedSitesChange(e){this.siteTag=e.target.value}generateHash(){this.hash=p({...this.settings,masterKey:this.masterKey,siteTag:this.siteTag}),v("hash").focus(),v("hash").setSelectionRange(0,this.hash.length),this.updateDatalist()}async onHashChange(e){const t=e.target;if(t.classList.remove("ok","danger","network"),t.title="",0!==t.value.length)try{await(async e=>{const t=g(e).toUpperCase(),s=`https://api.pwnedpasswords.com/range/${t.slice(0,5)}`,r=await fetch(s);if(!r.ok)throw r;const n=await r.text();let i=0;return n.split("\n").some(e=>{const s=e.trim().split(":");return s[0]===t.slice(5)&&(i=+s[1],!0)}),i})(t.value)>0?(t.classList.add("danger"),t.title=`Password compromised ${this.state.pwned} times`):t.classList.add("ok")}catch(e){e instanceof Response?console.error(e):t.classList.add("network")}}updateDatalist(){const e=v("savedSites");e.matches("select")?e.innerHTML='<option value="">Saved sites...</option>':e.innerHTML="",[...this.store.keys()].map(e=>[e.toLowerCase(),e]).sort().map(([,e])=>e).filter(Boolean).forEach(t=>{const s=document.createElement("option");s.value=t,s.label=t,s.innerHTML=t,e.appendChild(s)}),e.value=this.siteTag}setTimers(){let e=Date.now();window.addEventListener("focus",()=>{e+144e5<Date.now()&&(this.masterKey=""),e=Date.now()})}datalistFallback(){if(!v("siteTag").list){const e=v("savedSites"),t=document.createElement("select");t.id="savedSites",t.className=e.className,t.setAttribute("aria-label",e.getAttribute("aria-label")),e.parentNode.insertBefore(t,e.nextSibling),e.remove(),this.bindInput("savedSites"),v("siteTag").addEventListener("change",()=>{v("savedSites").value=this.siteTag})}}},"serviceWorker"in navigator&&navigator.serviceWorker.register("worker.js")}]);